/* VECTORS CAN STYLE SYSTEM - Cinematic Premium Theme */
/* Scope tokens to the VS page and to explicit theme states so the
   Docusaurus color-mode toggle can override these values. Avoid
   setting global :root variables here which forced a single theme.
*/
html[data-theme='dark'] .vs-page,
[data-theme='dark'] .vs-page,
.theme-dark .vs-page {
    --vs-bg-0: #040508;
    --vs-bg-1: #080910;
    --vs-bg-2: #0c0d12;
    --vs-surface: #111218;
    --vs-card: #14161d;

    --vs-fg: #e6eef7;
    --vs-muted: #9ca3af;
    --vs-border: rgba(255, 255, 255, 0.08);

    /* Official cinematic purple (user-specified) */
    --vs-purple: #8b5cf6;
    --vs-purple-rgb: 139, 92, 246;
    --vs-purple-soft: rgba(139, 92, 246, 0.18);

    --vs-radius: 12px;
    --vs-shadow: 0 12px 40px rgba(0, 0, 0, 0.45);
}

/* Light-theme tokens (fallback and explicit light mode). Keep these
   lighter and opaque so VS pages remain legible in light mode. */
html[data-theme='light'] .vs-page,
[data-theme='light'] .vs-page,
.theme-light .vs-page,
.vs-page {
    --vs-bg-0: #f8fafc;
    --vs-bg-1: #f5f3ff;
    --vs-bg-2: #ffffff;
    --vs-surface: rgba(255, 255, 255, 0.98);
    --vs-card: #ffffff;

    --vs-fg: #0f172a;
    --vs-muted: rgba(51, 65, 85, 0.78);
    --vs-border: rgba(2, 6, 23, 0.06);

    --vs-purple: #8b5cf6;
    --vs-purple-rgb: 139, 92, 246;
    --vs-purple-soft: rgba(139, 92, 246, 0.08);

    --vs-radius: 12px;
    --vs-shadow: 0 8px 26px rgba(2, 6, 23, 0.08);
}

/* Page background - cinematic layered gradient */
.vs-page {
    background: radial-gradient(circle at 50% 20%,
            var(--vs-bg-2) 0%,
            var(--vs-bg-1) 40%,
            var(--vs-bg-0) 80%) !important;
    color: var(--vs-fg) !important;
}

/* Design-scale fallbacks (use site tokens when available) */
:root {
    /* Unified spacing scale required by ShieldCraft visual spec v1.0 */
    --sc-spacing-xs: 12px;
    --sc-spacing-sm: 24px;
    --sc-spacing-md: 40px;
    --sc-spacing-lg: 72px;
    --sc-spacing-xl: 120px;
    --sc-spacing-2xl: 192px;

    --sc-card-height-md: 320px;
    --sc-radius-md: var(--sc-radius-md, var(--vs-radius));
    --sc-surface: var(--sc-surface, var(--vs-card));
    --sc-border: var(--sc-border, var(--vs-border));
    --sc-shadow-sm: var(--sc-shadow-sm, 0 12px 36px rgba(0, 0, 0, 0.32));
    --sc-shadow-md: 0 22px 58px rgba(0, 0, 0, 0.32);
    --sc-color-text-muted: var(--sc-color-text-muted, var(--vs-muted));
    --sc-color-primary-soft: var(--sc-color-primary-soft, var(--vs-purple-soft));
    --sc-color-accent-cyan: #22d3ee;
    --sc-font-body: var(--sc-font-body, 16px);
}

/* Global section spacing rules */
.vs-page section {
    max-width: 1200px;
    margin: 0 auto;
    padding-left: var(--sc-spacing-sm);
    padding-right: var(--sc-spacing-sm);
    box-sizing: border-box;
    padding-top: var(--sc-spacing-xl) !important;
    padding-bottom: var(--sc-spacing-xl) !important;
}

/* Sub-sections inside sections (first child excluded) */
.vs-page section>*+* {
    margin-top: var(--sc-spacing-lg) !important;
}

/* Typography hierarchy */
.vs-page p,
.vs-page li,
.vs-page summary {
    font-size: var(--sc-font-body) !important;
    line-height: 1.6 !important;
    color: var(--sc-color-text-muted) !important;
}

.vs-page h2 {
    /* Section titles */
    font-size: 1.75rem !important;
    font-weight: 700 !important;
}

.vs-page h3 {
    /* Subsection titles */
    font-size: 1.15rem !important;
    font-weight: 600 !important;
}

/* Reusable card system */
.vs-card {
    background: var(--sc-surface) !important;
    border: 1px solid var(--sc-border) !important;
    border-radius: var(--sc-radius-md) !important;
    padding: var(--sc-spacing-lg) !important;
    box-shadow: var(--sc-shadow-sm) !important;
    transition: transform 150ms ease, box-shadow 150ms ease, border-color 150ms ease !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    min-height: var(--sc-card-height-md) !important;
}

.vs-card:hover {
    transform: translateY(3px) !important;
    border-color: var(--sc-color-primary-soft) !important;
    box-shadow: var(--sc-shadow-md) !important;
}

/* Apply .vs-card geometry to existing card-like selectors for consistency */
.vs-pillars__card,
.vs-microflow__step,
.vs-tier,
.vs-integration,
.vs-integration__body,
.vs-invariants li,
.vs-faq__item,
.vs-deploy__grid article,
.vs-signature__grid article,
.vs-risk__box,
.guardProductHero__stats article {
    /* delegate actual appearance to vs-card but keep selectors for compatibility */
    background: var(--sc-surface) !important;
    border: 1px solid var(--sc-border) !important;
    border-radius: var(--sc-radius-md) !important;
    padding: var(--sc-spacing-lg) !important;
    box-shadow: var(--sc-shadow-sm) !important;
    transition: transform 150ms ease, box-shadow 150ms ease, border-color 150ms ease !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    min-height: var(--sc-card-height-md) !important;
}

.vs-pillars__card:hover,
.vs-microflow__step:hover,
.vs-tier:hover,
.vs-integration:hover,
.vs-invariants li:hover,
.vs-faq__item:hover,
.vs-deploy__grid article:hover,
.vs-signature__grid article:hover,
.vs-risk__box:hover,
.guardProductHero__stats article:hover {
    transform: translateY(-3px) !important;
    border-color: rgba(var(--vs-purple-rgb), 0.36) !important;
    box-shadow: 0 22px 58px rgba(0, 0, 0, 0.32) !important;
}

/* Hero glow + layout */
.vs-hero {
    position: relative;
    padding-top: var(--sc-spacing-xl);
    padding-bottom: var(--sc-spacing-xl);
    overflow: visible;
}

.vs-hero-glow {
    position: absolute;
    top: calc(-1 * var(--sc-spacing-xl));
    left: 50%;
    width: 900px;
    height: 500px;
    transform: translateX(-50%);
    background: radial-gradient(circle, rgba(var(--vs-purple-rgb), 0.14), transparent 70%);
    z-index: 0;
    pointer-events: none;
}

/* Subtle radial vignette behind the hero text for depth */
.vs-hero::before {
    content: '';
    position: absolute;
    inset: 0 auto auto 0;
    width: 100%;
    height: 60%;
    left: 0;
    top: 10%;
    pointer-events: none;
    background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0) 60%);
    z-index: 1;
}

/* Increase shield SVG visibility and add ambient glow behind title */
.vs-hero svg {
    filter: brightness(1.1) contrast(1.03);
}

.vs-hero__title::after {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: calc(-1 * var(--sc-spacing-sm) / 2);
    width: 420px;
    height: var(--sc-spacing-xl);
    background: radial-gradient(circle at center, rgba(var(--vs-purple-rgb), 0.06), transparent 60%);
    z-index: 2;
    pointer-events: none;
}

.vs-hero .vs-hero__content {
    position: relative;
    z-index: 10;
    max-width: 1200px;
    margin: 0 auto;
    text-align: center;
    padding-left: var(--sc-spacing-sm);
    padding-right: var(--sc-spacing-sm);
}

.vs-hero__title {
    font-size: 2.75rem !important;
    line-height: 1.05 !important;
    font-weight: 700 !important;
    color: var(--vs-fg) !important;
}

/* CTA weight / glow rules inside the hero */
.vs-hero .button--primary {
    font-weight: 800 !important;
    box-shadow: 0 12px 40px rgba(var(--vs-purple-rgb), 0.12) !important;
    transition: box-shadow 150ms ease !important;
}

.vs-hero .button--secondary {
    font-weight: 600 !important;
    box-shadow: 0 6px 20px rgba(var(--vs-purple-rgb), 0.06) !important;
    transition: box-shadow 150ms ease !important;
}

/* Ensure hero subtitle is muted and readable */
.vs-hero__subtitle {
    color: var(--vs-muted) !important;
    opacity: 0.95 !important;
    font-weight: 500 !important;
    line-height: 1.6 !important;
}

/* Remove accidental nav in page body if injected */
.vs-page .navbar,
.vs-page nav[role='navigation'] {
    display: none !important;
}

/* Risk calculator: 3-card horizontal layout */
.vs-risk__inner {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: var(--sc-spacing-md) !important;
    align-items: start !important;
}

.vs-risk__controls,
.vs-risk__output,
.vs-risk__box {
    padding: 0 !important;
    /* boxes already have vs-card padding */
}

/* Section heading standardization */
.vs-section-title {
    font-size: 1.75rem !important;
    font-weight: 700 !important;
    margin-bottom: var(--sc-spacing-md) !important;
    text-align: center !important;
    color: var(--vs-fg) !important;
}

/* Ensure all H2s inside vs-page follow the section title rules */
.vs-page h2 {
    font-size: 1.75rem !important;
    font-weight: 700 !important;
    margin: 0 0 var(--sc-spacing-md) 0 !important;
    text-align: center !important;
    color: var(--vs-fg) !important;
}

/* Icon standardization */
.vs-icon {
    width: 24px;
    height: 24px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: rgba(var(--vs-purple-rgb), 0.92) !important;
    opacity: 0.95;
}

.vs-icon svg {
    width: 24px;
    height: 24px;
    stroke: currentColor;
    fill: none;
    stroke-width: 1.5;
}

/* Grid patterns for feature sections */
.vs-signature__grid,
.vs-microflow__grid,
.vs-integrations__grid,
.vs-security__grid,
.vs-deploy__grid,
.vs-pillars__grid,
.vs-invariants {
    display: grid !important;
    gap: 32px !important;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
}

/* Pricing cards: ensure each tier uses vs-card and consistent layout */
.vs-pricing {
    padding-top: var(--sc-spacing-2xl) !important;
    padding-bottom: var(--sc-spacing-2xl) !important;
}

.vs-pricing__grid .vs-tier,
.vs-pricing__grid .vs-card {
    padding: var(--sc-spacing-lg) !important;
    border-radius: var(--sc-radius-md) !important;
    background: var(--sc-surface) !important;
    border: 1px solid var(--sc-border) !important;
    box-shadow: var(--sc-shadow-sm) !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    min-height: var(--sc-card-height-md) !important;
}

.vs-pricing__grid .vs-tier .vs-tier__cta {
    margin-top: var(--sc-spacing-sm) !important;
}

/* Premium button */
.vs-btn {
    background: var(--vs-purple) !important;
    color: white !important;
    padding: 18px 28px !important;
    border-radius: 999px !important;
    font-weight: 700 !important;
    transition: transform 150ms ease, box-shadow 150ms ease, opacity 150ms ease !important;
    border: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.vs-btn:hover {
    transform: translateY(-1px) !important;
    box-shadow: 0 6px 18px rgba(var(--vs-purple-rgb), 0.12) !important;
}

.vs-btn:focus {
    outline: none !important;
    box-shadow: 0 0 0 4px rgba(var(--vs-purple-rgb), 0.12) !important;
}

/* inter-card micro-interaction: shift icon stroke color on hover */
.vs-card:hover .vs-icon svg,
.vs-pillars__card:hover .vs-icon svg,
.vs-tier:hover .vs-icon svg,
.vs-integration:hover .vs-icon svg {
    stroke: var(--sc-color-primary-soft) !important;
}

/* Pricing CTA micro-interactions */
.vs-pricing .vs-tier .vs-btn {
    transition: box-shadow 150ms ease, transform 150ms ease !important;
}

.vs-pricing .vs-tier .vs-btn:hover {
    box-shadow: 0 18px 48px rgba(var(--vs-purple-rgb), 0.14) !important;
    transform: translateY(-2px) !important;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {

    .vs-card,
    .vs-btn,
    .vs-hero .button--primary,
    .vs-hero .button--secondary {
        transition: none !important;
        transform: none !important;
    }
}

/* Focus outlines for accessibility (apply to interactive elements inside .vs-page)
   - Uses token --sc-color-accent-cyan as approved
   - Uses :focus-visible for keyboard modality while keeping strong fallback
*/
.vs-page :focus-visible {
    outline: 3px solid var(--sc-color-accent-cyan) !important;
    outline-offset: 4px !important;
}

/* Ensure cards show focus when any child receives focus (keyboard users) */
.vs-card:focus-within {
    outline: 3px solid var(--sc-color-accent-cyan) !important;
    outline-offset: 4px !important;
}

/* Specific risk calculator inputs */
.vs-risk__controls input:focus-visible,
.vs-risk__controls input[type="range"]:focus-visible,
.vs-risk__controls input[type="number"]:focus-visible {
    outline: 3px solid var(--sc-color-accent-cyan) !important;
    outline-offset: 4px !important;
}

/* CTA buttons and interactive tiles inside vs-page */
.vs-page .vs-btn:focus-visible,
.vs-page a:focus-visible,
.vs-page [role="button"]:focus-visible,
.vs-page [tabindex]:focus-visible {
    outline: 3px solid var(--sc-color-accent-cyan) !important;
    outline-offset: 4px !important;
}

/* Primary / Secondary semantics */
.vs-btn.vs-primary {
    background: linear-gradient(90deg, var(--vs-purple), var(--ifm-color-primary));
    color: #fff !important;
}

.vs-btn.vs-primary:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 10px 30px rgba(var(--vs-purple-rgb), 0.18) !important;
}

.vs-btn.vs-secondary {
    background: transparent !important;
    color: var(--sc-color-text-muted) !important;
    border: 1px solid rgba(255, 255, 255, 0.06) !important;
    box-shadow: none !important;
}

.vs-btn.vs-secondary:hover {
    transform: none !important;
    box-shadow: none !important;
}

/* Footer CTA */
.vs-finalcta {
    padding: 80px 0 !important;
    text-align: center !important;
}

/* Remove leftover Docusaurus spacing on marketing elements */
.vs-page h1,
.vs-page h2,
.vs-page h3,
.vs-page p {
    margin: 0 !important;
}

/* Responsiveness */
@media (max-width: 768px) {

    .vs-signature__grid,
    .vs-microflow__grid,
    .vs-integrations__grid,
    .vs-security__grid,
    .vs-deploy__grid,
    .vs-pillars__grid,
    .vs-invariants,
    .vs-pricing__grid,
    .vs-risk__inner {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
    }

    .vs-pillars__card,
    .vs-microflow__step,
    .vs-tier,
    .vs-integration,
    .vs-invariants li,
    .vs-faq__item,
    .vs-deploy__grid article,
    .vs-signature__grid article,
    .vs-risk__box {
        padding: 20px !important;
    }

    .vs-hero .vs-hero__content {
        max-width: 90vw !important;
    }

    .vs-hero__title {
        font-size: 1.75rem !important;
    }
}

/* Ensure legacy button classes inside VS page get the same polished hover/focus */
.vs-page .btn,
.vs-page .button,
.vs-page a.button,
.vs-page a.btn {
    transition: transform 150ms ease, box-shadow 150ms ease !important;
}

.vs-page .btn:hover,
.vs-page .button:hover,
.vs-page a.button:hover,
.vs-page a.btn:hover {
    transform: translateY(-1px) !important;
    box-shadow: 0 6px 18px rgba(var(--vs-purple-rgb), 0.10) !important;
}

/* Ensure consistent heading scales */
.vs-page h2 {
    font-size: 1.75rem !important;
}

.vs-page h3 {
    font-size: 1.15rem !important;
}

/* High-contrast focus for legacy buttons inside VS pages (accessibility) */
.vs-page .btn:focus,
.vs-page .button:focus,
.vs-page a.btn:focus,
.vs-page a.button:focus {
    outline: none !important;
    box-shadow: 0 0 0 4px rgba(var(--vs-purple-rgb), 0.14) !important;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {

    .vs-card,
    .vs-btn,
    .stream rect {
        transition: none !important;
        animation: none !important;
    }
}
