/* src/styles/sc-architecture.css
    Updated - R-A33 architecture grid stabilization.
    Notes:
    - Responsive grid ensures constrained center column for blueprint panel.
*/

:global(:root) {
    /* Card material tokens (R-A58). Legacy tokens (e.g., --sc-shadow-card-xl) are deprecated. */
    --sc-card-surface: rgba(14, 16, 26, 0.96);
    --sc-card-surface-light: rgba(16, 18, 30, 0.98);
    --sc-card-overlay: rgba(255, 255, 255, 0.03);
    --sc-card-border: rgba(255, 255, 255, 0.06);
    --sc-card-border-strong: rgba(255, 255, 255, 0.12);
    --sc-card-padding: clamp(20px, 4vw, 28px);
    --sc-card-radius: 14px;
    --sc-card-shadow-soft: 0 10px 28px rgba(0, 0, 0, 0.38);
    --sc-card-shadow-hard: 0 16px 36px rgba(0, 0, 0, 0.42);
    --sc-card-shadow: var(--sc-card-shadow-soft);
    --sc-card-hover-shadow: var(--sc-card-shadow-hard);
    --sc-card-transition: border-color 120ms ease, background 140ms ease, box-shadow 160ms ease, transform 120ms ease;
}

.scCardHighlight {
    background: linear-gradient(to bottom, var(--sc-border-soft), rgba(255, 255, 255, 0));
}

:global(html[data-theme='light']) .scCardHighlight {
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0.2));
}


.scArchOverview {
    display: grid;
    grid-template-columns: 1.2fr 0.9fr;
    gap: var(--sc-arch-grid-gap);
    align-items: stretch;
}

/* Principles card visual style preserved */
.scArchPrinciples {
    background: var(--sc-card-surface);
    border: 1px solid var(--sc-card-border);
    border-radius: var(--sc-card-radius);
    padding: var(--sc-card-padding);
    box-shadow: var(--sc-card-shadow);
    backdrop-filter: blur(12px);
    display: flex;
    flex-direction: column;
    gap: 10px;
    min-height: 100%;
    transition: var(--sc-card-transition);
}

.scArchPrinciples h4 {
    margin: 0 0 8px;
    font-weight: 660;
    font-size: 1rem;
    color: var(--sc-text-strong);
}

.scArchPrinciples p {
    margin: 0;
    font-size: 0.93rem;
    color: var(--sc-text-body);
    opacity: 0.85;
}

/* Row for the main architecture content: left / center / right */
.scArchRow {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: clamp(32px, 4vw, 48px);
    align-items: start;
}

/* Column children are simple vertical stacks */
.scArchColumn {
    display: flex;
    flex-direction: column;
    gap: var(--sc-space-5);
}

/* Card details / narrative */
.scArchDetailCard {
    background: var(--sc-card-surface);
    border: 1px solid var(--sc-card-border);
    border-radius: var(--sc-card-radius);
    padding: var(--sc-card-padding);
    backdrop-filter: blur(12px);
    transition: opacity var(--motion-fade), var(--sc-card-transition);
    box-shadow: var(--sc-card-shadow);
    margin-bottom: 0;
    position: relative;
}

/* Tag grid for services */
.scArchTags {
    margin-top: var(--sc-space-3);
    margin-bottom: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: calc(var(--sc-arch-tag-gap) + 4px);
}

/* Minor visual tweaks */
.scArchTitle {
    font-size: 22px;
    font-weight: 660;
    letter-spacing: var(--tracking-h1-h2);
    margin-top: 12px;
    margin-bottom: 12px;
    text-align: center;
    color: var(--sc-text-strong);
}

.scArchSubtitle {
    font-size: var(--sc-arch-subtitle-size);
    line-height: 1.62;
    letter-spacing: -0.01em;
    opacity: 0.85;
    margin-bottom: clamp(24px, 4vw, 32px);
    max-width: 560px;
    color: var(--sc-text-body);
    text-align: center;
}

.scArchDetailCard p {
    line-height: 1.55;
    opacity: 0.92;
    letter-spacing: var(--type-letter-body);
    margin-bottom: var(--sc-space-3);
}

.scArchDetailCard h4 {
    margin-bottom: var(--sc-space-2);
    font-weight: 650;
    letter-spacing: -0.2px;
    color: var(--sc-text-strong);
}

.scArchDetailCard.enter {
    opacity: 0;
    transform: translateY(6px);
}

.scArchDetailCard.enter-active {
    opacity: 1;
    transform: translateY(0);
}

/* Principles / usage helper blocks */
.implBlock {
    background: var(--sc-card-surface);
    border: 1px solid var(--sc-card-border);
    padding: var(--sc-card-padding);
    border-radius: var(--sc-card-radius);
    box-shadow: var(--sc-card-shadow);
    backdrop-filter: blur(12px);
    transition: var(--sc-card-transition);
}

:global(.principlesCard),
:global(.usageBlockEmbedded),
:global(.archNarrative) {
    background: var(--sc-card-surface-light);
    border: 1px solid var(--sc-card-border);
    border-radius: var(--sc-card-radius);
    box-shadow: var(--sc-card-shadow);
    backdrop-filter: blur(12px);
    transition: var(--sc-card-transition);
}

:global(.principlesCard:hover),
:global(.usageBlockEmbedded:hover),
:global(.archNarrative:hover) {
    border-color: var(--sc-border-strong);
    transform: translateZ(0) translateY(-2px);
}

:global(.principlesCard:active),
:global(.usageBlockEmbedded:active),
:global(.archNarrative:active) {
    transform: translateZ(0) scale(0.992);
}

.principlesCard:focus-visible,
.usageBlockEmbedded:focus-visible,
.archNarrative:focus-visible {
    outline: 2px solid var(--sc-accent-1);
    transform: translateZ(0) translateY(-2px) scale(1.002);
}

:global(.tagButton:focus-visible) {
    outline: 1px solid var(--sc-accent-1);
    outline: 3px solid rgba(123, 108, 255, 0.22);
    outline-offset: 3px;
}

/* utility spacing */
.scArchSectionSpacing {
    margin-top: var(--sc-space-4);
}

/* small-screen responsiveness */
@media (max-width: 900px) {
    .scArchRow {
        grid-template-columns: 1fr;
    }

    .scArchOverview {
        grid-template-columns: 1fr;
    }
}

/* fallback small tweaks */
.light .scArchDetailCard {
    background: var(--sc-surface-1);
    border-color: var(--sc-border-soft);
}

/* Strong card surface and text enforcement for architecture area */
.scPage .scArchDetailCard,
.scPage .architectureCard,
.scPage .principlesCard,
.scPage .usageBlockEmbedded,
.scPage .archNarrative {
    background: var(--sc-card-surface) !important;
    border: 1px solid var(--sc-card-border) !important;
    color: var(--sc-text-body) !important;
    opacity: 1 !important;
}

/* Ensure headings in architecture panels are crisp */
.scPage .scArchDetailCard h4,
.scPage .scArchPrinciples h4,
.scPage .scArchTitle {
    color: var(--sc-text-strong) !important;
    opacity: 1 !important;
}

/* Make sure list items and small labels are readable */
.scPage .scArchDetailCard p,
.scPage .scArchDetailCard li,
.scPage .scArchDetailCard span,
.scPage .scArchSubtitle {
    color: var(--sc-text-body) !important;
    opacity: 1 !important;
}

/* AWS service selector buttons need high-contrast surfaces */
.scServiceButton {
    background: rgba(22, 24, 34, 0.96) !important;
    border: 1px solid rgba(120, 110, 180, 0.25) !important;
    color: rgba(255, 255, 255, 0.96) !important;
}

.scServiceButton:hover {
    background: rgba(32, 34, 48, 1) !important;
    border-color: rgba(143, 123, 255, 0.45) !important;
}

.scServiceButtonActive {
    background: rgba(40, 42, 58, 1) !important;
    border: 1px solid rgba(163, 143, 255, 0.6) !important;
    color: #fff !important;
}

.archPrinciples {
    margin-top: clamp(24px, 4vw, 48px);
    padding: clamp(20px, 3vw, 28px);
    background: rgba(12, 14, 24, 0.82);
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-radius: 16px;
    backdrop-filter: blur(16px);
}

.archPrinciples h3 {
    font-size: 1.1rem;
    margin-bottom: 12px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.98);
}

.archPrinciples ul li {
    margin: 6px 0;
    color: rgba(255, 255, 255, 0.92);
}

.awsServiceColumn h3,
.awsServiceColumn h4 {
    color: var(--sc-text-strong) !important;
    opacity: 1 !important;
}

.awsServiceSelector button {
    background: rgba(14, 16, 26, 0.88);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;
    padding: 8px 14px;
    transition: 140ms ease;
}

.awsServiceSelector button:hover {
    background: rgba(18, 20, 32, 0.96);
    border-color: rgba(143, 123, 255, 0.28);
}
